<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="UTF-8" />
  <title>Gestor de Alunos</title>

  <link rel="stylesheet" href="style.css" />
  <style>
    body { font-family:sans-serif; margin:2rem; }
    table { border-collapse:collapse; width:100%; }
    th, td { border:1px solid #ccc; padding:.5rem; text-align:left; }
    th { background:#f3f3f3; }
    button { cursor:pointer; }
    form { margin-top:2rem; display:grid; gap:.5rem; max-width:480px; }
    label { display:flex; flex-direction:column; font-weight:600; }
  </style>
</head>

<body>
  <h1>Gestor de Alunos</h1>

  <table id="tabela-alunos">
    <thead>
      <tr>
        <th>ID</th><th>Nome</th><th>Apelido</th><th>Curso</th>
        <th>Ano</th><th>Idade</th><th>Ações</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <h2 id="form-title">Adicionar aluno</h2>
  <form id="form-aluno">
    <input type="hidden" id="aluno-id" />

    <label>Nome
      <input required id="nome" />
    </label>

    <label>Apelido
      <input required id="apelido" />
    </label>

    <label>Curso
      <select required id="curso"></select>
    </label>

    <label>Ano
      <input type="number" required id="ano" min="1" max="5" />
    </label>

    <label>Idade
      <input type="number" id="idade" min="16" max="100" />
    </label>

    <button type="submit">Guardar</button>
    <button type="button" id="btn-cancelar" style="display:none;">Cancelar</button>
  </form>

  <script>
    // define baseUrl consoante o ambiente
    (function() {
      const host = window.location.hostname;
      if (host.endsWith('.vercel.app')) {
        window.API_BASE_URL = `https://${host}/api`;
      } else {
        window.API_BASE_URL = 'http://localhost:4000/api';
      }
    })();
  </script>

  <script src="main.js"></script>
</body>
</html>
